<!doctype html>
<html lang="en">

<head>
	<meta charset=utf-8>
	<meta name="description" content="Work out your individualized biological rhythms">
	<title>OpenCB - Your chronobiological diary</title>
	<meta name="keywords" content="chronobiology, rhythms, diary">
	<meta name="viewport" content="width=device-width, initial-scale=1">

	<style>
		.wrapper {
			display: -webkit-box;
			display: -moz-box;
			display: -ms-flexbox;
			display: -webkit-flex;
			display: flex;
			-webkit-flex-flow: row wrap;
			flex-flow: row wrap;
			font-weight: bold;
			text-align: center;
		}
		
		.wrapper > * {
			padding: 10px;
			flex: 1 100%;
		}
		
		.header {
			background-color: white;
			background: linear-gradient(white, #ded);
		}
		
		.footer {
			background-color: white;
			background: linear-gradient(#ded, white);
		}
		
		.main {
			text-align: left;
			background: white;
		}
		
		.aside-1 {
			border-right: 1px solid #ded;
		}
		
		.aside-2 {
			border-left: 1px solid #ded;
		}
		
		.wrapper .header button {
			padding: 8px 16px;
			font-size: 13px;
			font-weight: bold;
			line-height: 1;
			text-decoration: none;
			border-radius: 5px;
			border-color: #362 #362 #251;
			box-shadow: inset 0 1px 1px #ae8;
			color: #fff;
			border: 1px solid;
			cursor: pointer;
			background-color: #6a4;
			background: linear-gradient(#7b6, #584);
		}
		
		.wrapper .header button:hover {
			background: linear-gradient(#8c67 #695);
		}
		
		@media all and (min-width: 600px) {
			.aside {
				flex: 1 auto;
			}
		}
		
		@media all and (min-width: 800px) {
			body {
				padding: 2em;
			}
			.main {
				flex: 3 0px;
			}
			.aside-1 {
				order: 1;
				width: 280px;
				flex: 0 0 280px;
				border-left: 1px solid #eee;
			}
			.main {
				order: 2;
			}
			.aside-2 {
				order: 3;
			}
			.footer {
				order: 4;
			}
		}
	</style>
	<link rel="stylesheet" href="css/style.css">
	<script src="js/menu.js" defer></script>
	<script language="javascript" type="text/javascript" defer>

		function doLogin() {

				document.getElementById('do_login').disabled = true; // TODO (1) : timeout/error re-enable

				var message = {
					seq: 0, // TODO (5) : sequence management, retry control
					login: document.getElementById('email-input').value,
					pwd: document.getElementById('password-input').value
				}

				console.log('doLogin > ws://' + window.location.hostname + '@' + message.id);

				var websocket = new WebSocket('ws://' + window.location.hostname, 'ocb1');
				
				websocket.onopen = function(e) { 
					console.log('ws open');
					console.log(e);
					websocket.send(JSON.stringify(message)); 
				};

				websocket.onclose = function(e) {
					console.log('ws close');
					console.log(e); 
				};
				
				websocket.onmessage = function(e) {  
					console.log('ws msg');
					console.log(e.data);
				};
				
				websocket.onerror = function(e) {
					console.log('ws error ');
					console.log(e);
				};
		}
  </script>
</head>

<body>

	<div class="wrapper">
		<header class="header">

			<span>OpenCB</span>
			<button title="Your informations are only stored locally, and will be lost if you empty your cache">Sign in</button>
			<button title="Your informations are only stored locally, and will be lost if you empty your cache">Register</button>
			<button title="Change studydate, mode, edit your data">Options</button>


		</header>
		<article class="main">
			<section id="data" data-section="data" data-title="Data">

				<label>
					<span id="pseudonym">Guest</span><span>, born on</span>
					<input id="birthdate-input" type="date">
				</label>

				<label>
					<span> Study for</span>
					<input id="studydate-input" type="date">
				</label>

				<div id="render">(TODO Graphic rendering section)</div>
			</section>


			<section id="introduction" data-section="introduction" data-title="Introduction">
				<h2>Welcome to OpenCB</h2>
				<p><a href="https://en.wikipedia.org/wiki/Chronobiology">Chronobiology</a> examines periodic phenomena in living organisms,
					known as biological rhythms. This app aim to extract long term rhythms from some kind of data, from biosensing devices
					data (EGG, ECG..) to psychological tendencies. (TODO potato graph Diary whit meta data, heath data, filter, model, envents,
					feedback...)</p>
			</section>

			<section id="why" data-section="why" data-title="why">
				<h2>Why ?</h2>
				<p>Why should one research patterns in it's life biological data ? We could prevent and manage better many problems by knowing
					when to to or not to do somesthing.</p>
				<p>Why an open app ? Some poeple don't want to put their heath data in places they don't master. Here, everybody can see
					what is done, or can even deploy it's own private server with the one-click container ease. Another reason is sharing.
					It may be long and tedious to accumulate years of data to emerge usefull patterns. People starting with the app could
					benefit from models from other user.
				</p>
			</section>

			<section id="what" data-section="what" data-title="what">
				<h2>What devices are needed to capture data ?</h2>
				<p>You could use for example your Smartphone as a poll-medium, a wearable devices or a biosensor to get data, a microphone
					to analyse your voice intonation or even in your wildest dremas a webcam to disect gesture or skin color.</p>
				<p>The first version focus on two means : the "fallback mode" for people without specific device, using a website or mobile
					as a perpetual diary/poll to measure your mood and give you feedback, and the OpenBCI device, that allow to capture
					biosensing data on a memory card or stream the to a server.</p>
			</section>

			<section id="analysis">
				<h2>Analysis</h2>
				<p>The data study mainly focuses on genetic algorithms to work out complex pattern recognition by modeling/comparing.</p>
				<p>(TODO Data statistics, genetic algorithm, data formats...)</p>
			</section>

			<section id="basic">
				<h2>Basic solutions for data acquiring</h2>
				<p>Solutions for people that do not have specific devices : Daily poll, daily evaluation on mini-games, smartphone inputs,
					microphone (voice intonation changes), webcam (skin color, eyes analysis), etc... (Todo...)</p>
			</section>

			<section id="electrograms">
				<h2>Biosensing</h2>
				<h2>OpenBCI brain waves acquisition</h2>
				<p style="text-align: center"><img src="res/obci_bord_small.jpg" /></p>
				<p>(Todo... check for other devices that OpenBCI with open api)</p>
			</section>

			<section id="wearable">
				<h2>Wearable devices, connected watches... </h2>
				<p>(Todo... check for open protocol / api / programmable wearable devices )</p>
			</section>

			<section id="sleeptrackers">
				<h2>Sleep tracking devices</h2>
				<p>(Todo... check for open protocol / api / programmable sleep tracker)</p>
			</section>


		</article>
		<aside class="aside aside-1">
			<div class="sidebar-menu">
				<div class="logo">

					<!-- <canvas id="logo"></canvas> -->
					<img id="logo" src="res/logo.png" />

					<p>Open chronbiology : Work out your individualized biological rhythms.</p>

					<div class="social-buttons">

						<a href="#" title="web site"><span class="icon icon-web">w</span></a>
						<a href="#" title="twitter"><span class="icon icon-twitter">t</span></a>
						<a href="#" title="facebook"><span class="icon icon-facebook">f</span></a>
					</div>

				</div>

				<div class="login">

					<h3><span>&#9892;</span>Connect</h3>

					<form>
						<input type="email" id="email-input" placeholder="e-mail" />
						<input type="password" id="password-input" placeholder="password" />
						<input type="button" id="do_login" value="Connection" />
						<!--	<a href="connect.html" id="do_login">Connection</a> -->
					</form>

				</div>

				<div class="sidebar-links">

					<h3><span>&#9784;</span>Informations</h3>

					<div class="selected">

						<h4 class="link-4">Presentation</h4>

						<ul class="sub-links">
							<li><a href="#why" onclick="displaySection(this);">Why ?</a></li>
							<li><a href="#what" onclick="displaySection(this);">What ?</a></li>
						</ul>

					</div>
					<div>
						<h4 class="link-1">History</h4>

						<ul class="sub-links">
							<li><a href="#introduction" onclick="displaySection(this);">Introduction</a></li>
						</ul>

					</div>

					<div>
						<h4 class="link-2">Data</h4>

						<ul class="sub-links">
							<li><a href="#analysis" onclick="displaySection(this);">Data analysis</a></li>
							<li><a href="#basic" onclick="displaySection(this);">Basic solutions</a></li>
							<li><a href="#wearable" onclick="displaySection(this);">Wearable</a></li>
							<li><a href="#sleeptrackers" onclick="displaySection(this);">Sleep trackers</a></li>
							<li><a href="#electrograms" onclick="displaySection(this);">Electrograms</a></li>
						</ul>

					</div>

					<div>
						<h4 class="link-3">Ressources</h4>

						<ul class="sub-links">
							<li><a href="#">Link 1</a></li>
							<li><a href="#">Link 2</a></li>
							<li><a href="#">Link 3</a></li>
							<li><a href="#">Link 4</a></li>
						</ul>

					</div>

				</div>




				<div class="latest-blog-posts">

					<h3><span>&#9775;</span>Latest posts</h3>

					<ul class="latest-posts">
						<li><a href="#">Lorem ipsum... this is very interesting. </a><span>2 days ago</span></li>
						<li><a href="#">This is more interesting. </a><span>one week ago</span></li>
						<li><a href="#">This is even more fascinating. </a><span>2 weeks ago</span></li>
						<li><a href="#">Jawbreaking stuff included. </a><span>3 weeks ago</span></li>
					</ul>
				</div>



				<div class="photo-stream">

					<h3><span>&#9783;</span>Preview</h3>

					<div class="gallery">
						<a href="#"><img src="res/obci_bord_small.jpg" alt="OBCI board" /></a>
						<p class="pagination">
							<span>1 of 2</span>
							<a href="#" class="previous"></a>
							<a href="#" class="next"></a>
						</p>
					</div>
				</div>
				<div>
		</aside>
		<aside class="aside aside-2">Todo...</aside>
		<footer class="footer">
			<a href="help.html">Help</a> <a href="about.html">About</a>
		</footer>
		</div>

</body>

</html>